<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Function to Aggregate CCC Method Results — liana_aggregate • liana</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Function to Aggregate CCC Method Results — liana_aggregate" />
<meta property="og:description" content="Function to Aggregate CCC Method Results" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">liana</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.7</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/liana_custom_op.html">LIANA Custom literature and database knowledge from OmniPath</a>
    </li>
    <li>
      <a href="../articles/liana_devel.html">LIANA++ for Benchmarks and Developers</a>
    </li>
    <li>
      <a href="../articles/liana_intracell.html">LIANA with Intracellular Omnipath</a>
    </li>
    <li>
      <a href="../articles/liana_nichenet.html">LIANA - NicheNet</a>
    </li>
    <li>
      <a href="../articles/liana_tutorial.html">LIANA Tutorial</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/saezlab/liana/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://twitter.com/saezlab">
    <span class="fab fa-twitter fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="http://www.saezlab.org">
    <span class="fas fa-university"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Function to Aggregate CCC Method Results</h1>
    <small class="dont-index">Source: <a href='https://github.com/saezlab/liana/blob/master/R/liana_aggregate.R'><code>R/liana_aggregate.R</code></a></small>
    <div class="hidden name"><code>liana_aggregate.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Function to Aggregate CCC Method Results</p>
    </div>

    <pre class="usage"><span class='fu'>liana_aggregate</span><span class='op'>(</span>
  <span class='va'>liana_res</span>,
  resource <span class='op'>=</span> <span class='cn'>NULL</span>,
  set_cap <span class='op'>=</span> <span class='st'>"max"</span>,
  cap <span class='op'>=</span> <span class='cn'>NULL</span>,
  get_ranks <span class='op'>=</span> <span class='cn'>TRUE</span>,
  get_agrank <span class='op'>=</span> <span class='cn'>TRUE</span>,
  .score_mode <span class='op'>=</span> <span class='va'>.score_specs</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>liana_res</th>
      <td><p>LIANA results</p></td>
    </tr>
    <tr>
      <th>resource</th>
      <td><p>If methods are ran with multiple resources, the name of the
resource of interest needs to be provided
*Note* if a name is not provided, the first results based on the first
resource in the list will be returned</p></td>
    </tr>
    <tr>
      <th>set_cap</th>
      <td><p>Function used to set ranked cap (i.e. the value that is
assigned to interactions with NA for scores);
By default, this is set to "max", which is the maximum number of interactions
obtained by the methods; Some methods return all possible ligand-receptor
combinations for each possible source and target cell pair - i.e. the
known universe of all possible interactions (based on the CCC resource)</p></td>
    </tr>
    <tr>
      <th>cap</th>
      <td><p>A cap can for all methods can also be manually set, then the top X
interactions, based on the `specificity` scores for each method will be
returned and the ranking will be carried out solely on them</p></td>
    </tr>
    <tr>
      <th>get_ranks</th>
      <td><p>boolean, whether to return consensus ranks for methods</p></td>
    </tr>
    <tr>
      <th>get_agrank</th>
      <td><p>boolean, whether to return aggregate rank using the
`RobustRankAggreg` package.</p></td>
    </tr>
    <tr>
      <th>.score_mode</th>
      <td><p>defines the way that the methods would be aggragate.
By default, we use the score of each method which reflects specificity
(if available), if not e.g. the case of SCA we use it's sole scoring function.
This aggregation is by default done on the basis of the list returns by
`.score_mode`. Alternatively, one could pass `.score_housekeep` to obtain an
aggragate of the housekeeping interactions of each `external` LIANA++ method.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Arguments passed on to <code><a href='https://rdrr.io/pkg/RobustRankAggreg/man/aggregateRanks.html'>RobustRankAggreg::aggregateRanks</a></code></p><dl>
    <dt><code>glist</code></dt><dd><p>list of element vectors, the order of the
  vectors is used as the ranking.</p></dd>
    <dt><code>rmat</code></dt><dd><p>the rankings in matrix format. The glist is
  by default converted to this format.</p></dd>
    <dt><code>N</code></dt><dd><p>the number of ranked elements, important when
  using only top-k ranks, by default it is calculated as
  the number of unique elements in the input.</p></dd>
    <dt><code>method</code></dt><dd><p>rank aggregation method, by defaylt
  <code>'RRA'</code>, other options are <code>'min'</code>,
  <code>'geom.mean'</code>, <code>'mean'</code>, <code>'median'</code> and
  <code>'stuart'</code></p></dd>
    <dt><code>full</code></dt><dd><p>indicates if the full rankings are given,
  used if the the sets of ranked elements do not match
  perfectly</p></dd>
    <dt><code>exact</code></dt><dd><p>indicator showing if exact p-value will be
  calculated based on rho score (Default: if number of
  lists smaller than 10, exact is used)</p></dd>
    <dt><code>topCutoff</code></dt><dd><p>a vector of cutoff values used to limit
  the number of elements in the input lists elements do not
  match perfectly</p></dd>
  
</dl></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Tibble with the interaction results and ranking for each method</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>set_cap is the name of the name of a function that is to be executed
  on a vector representing the number of rows in the results for each method,
  by default this is set to base::max, but any other function that
  works with vectors could be passed - e.g. min, mean, etc.</p>
<p>This function also decomplexifies any complex present in the CellChat results
which returns complexes by default</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Daniel Dimitrov, Charlotte Boys, Martin Garrido Rodríguez, Denes Turei, James Nagai.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


